---
title: 对“不确定属性的对象”如何在数据库中建模的思考(Part 1)
date: 2018-01-10 16:52:33
tags:
- Mongodb
---

# 背景

部门里有同学负责一个任务分派系统（以下简称**T系统**），其用户主要是公司里的客服人员。T系统的作用主要是为这些客服人员提供可视化的任务搜索、任务分派、任务追踪功能，简单来说用户打开T系统后就能看到自己手头上的任务或者新生成还没被人拿走的任务，然后可以对它们进行操作，并且在任务状态改变时可以在UI上看到他们的变化。

这里要着重点出的是：**系统里有很多不同类型的任务，而不同类型的任务的属性是不一样的（会有少部分公共属性是一样的，其余大部分任务私有属性是不同的），并且用户还可以新增自定义任务和它们的属性。系统还对用户提供了搜索功能能够基于任务属性做过滤。**数据模型例子：

```json
// 任务类型1
{
    // 公共属性
    type: "Type1",
    createTime: "20180101",
    // 私有属性
    property1: "p1",
    property2: "p2",
}

// 任务类型2
{
    // 公共属性
    type: "Type2",
    createTime: "20180102",
    // 私有属性
    property3: "p3",
    property4: "p4",
}
```
由于这个系统是从别人手里接手过来的，拿到手时系统的基本框架、数据模型、数据流等都已经被确定了。





